const fs = require('fs');
const path = require('path');

module.exports = filePath => {
    return name => {
        if (name !== 'fs') {
            return require;
        }
        return {
            readFileSync(fileName, encoding) {
                if (fileName === '/dev/stdin') {
                    let directory = path.dirname(filePath);
                    let fileName = path.basename(filePath);
                    return fs.readFileSync(`${directory}${path.sep}input${path.sep}${fileName}.in`, encoding);
                } else {
                    return fs.readFileSync(fileName, encoding);
                }
            }
        }
    };
};
